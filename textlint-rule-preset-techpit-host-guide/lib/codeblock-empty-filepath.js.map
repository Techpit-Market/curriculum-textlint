{"version":3,"sources":["../src/codeblock-empty-filepath.js"],"names":["module","exports","context","Syntax","RuleError","report","getSource","CodeBlock","node","lang","includes","isFilePath","string","strings","split","length"],"mappings":";;AAAA;AACA;AACA;AACAA,MAAM,CAACC,OAAP,GAAiB,UAAUC,OAAV,EAAmB;AAClC,MAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,SAAV;AAAqBC,IAAAA,MAArB;AAA6BC,IAAAA;AAA7B,MAA2CJ,OAAjD;AACA,SAAO;AACL,KAACC,MAAM,CAACI,SAAR,EAAmBC,IAAnB,EAAyB;AACvB,UAAIA,IAAI,CAACC,IAAL,KAAc,IAAlB,EAAwB;AACtB;AACD;;AAED,UAAID,IAAI,CAACC,IAAL,CAAUC,QAAV,CAAmB,SAAnB,CAAJ,EAAmC;AACjC;AACD;;AAED,UAAMC,UAAU,GAAIC,MAAD,IAAY;AAC7B,eAAOA,MAAM,CAACF,QAAP,CAAgB,GAAhB,CAAP;AACD,OAFD;;AAIA,UAAMG,OAAO,GAAGL,IAAI,CAACC,IAAL,CAAUK,KAAV,CAAgB,GAAhB,CAAhB;;AAEA,UAAID,OAAO,CAACE,MAAR,KAAmB,CAAvB,EAA0B;AACxBV,QAAAA,MAAM,CACJG,IADI,EAEJ,IAAIJ,SAAJ,CAAc,4BAAd,CAFI,CAAN;AAIA;AACD;;AAED,UAAIS,OAAO,CAACE,MAAR,KAAmB,CAAnB,IAAwB,CAACJ,UAAU,CAACE,OAAO,CAAC,CAAD,CAAR,CAAvC,EAAqD;AACnDR,QAAAA,MAAM,CACJG,IADI,EAEJ,IAAIJ,SAAJ,CAAc,4BAAd,CAFI,CAAN;AAIA;AACD;AACF;;AA/BI,GAAP;AAiCD,CAnCD","sourcesContent":["/**\n * コードブロックにファイルのパスが設定されているかチェックする\n */\nmodule.exports = function (context) {\n  const { Syntax, RuleError, report, getSource } = context;\n  return {\n    [Syntax.CodeBlock](node) {\n      if (node.lang === null) {\n        return;\n      }\n\n      if (node.lang.includes(\"console\")) {\n        return;\n      }\n\n      const isFilePath = (string) => {\n        return string.includes(\".\");\n      };\n\n      const strings = node.lang.split(\":\");\n\n      if (strings.length === 0) {\n        report(\n          node,\n          new RuleError(\"コードブロックにはファイルのパスを設定してください。\")\n        );\n        return;\n      }\n\n      if (strings.length === 1 && !isFilePath(strings[0])) {\n        report(\n          node,\n          new RuleError(\"コードブロックにはファイルのパスを設定してください。\")\n        );\n        return;\n      }\n    },\n  };\n};\n"],"file":"codeblock-empty-filepath.js"}