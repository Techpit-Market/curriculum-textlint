{"version":3,"sources":["../src/codeblock-modify-comment.js"],"names":["module","exports","context","options","Syntax","RuleError","report","getSource","CodeBlock","node","text","words","excludedLangs","invalid","some","word","includes","lang","ruleError"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACAA,MAAM,CAACC,OAAP,GAAiB,UAAUC,OAAV,EAAiC;AAAA,MAAdC,OAAc,uEAAJ,EAAI;AAChD,MAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,SAAV;AAAqBC,IAAAA,MAArB;AAA6BC,IAAAA;AAA7B,MAA2CL,OAAjD;AACA,SAAO;AACL,KAACE,MAAM,CAACI,SAAR,EAAmBC,IAAnB,EAAyB;AACvB,UAAMC,IAAI,GAAGH,SAAS,CAACE,IAAD,CAAtB;AACA,UAAME,KAAK,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,CAAd;AACA,UAAMC,aAAa,GAAG,CAAC,MAAD,EAAS,SAAT,CAAtB;AAEA,UAAMC,OAAO,GACXF,KAAK,CAACG,IAAN,CAAYC,IAAD,IAAUL,IAAI,CAACM,QAAL,CAAcD,IAAd,CAArB,KACAH,aAAa,CAACE,IAAd,CAAoBG,IAAD,IAAUR,IAAI,CAACQ,IAAL,KAAc,IAAd,IAAsBR,IAAI,CAACQ,IAAL,CAAUD,QAAV,CAAmBC,IAAnB,CAAnD,CAFF;;AAIA,UAAI,CAACJ,OAAL,EAAc;AACZ,YAAMK,SAAS,GAAG,IAAIb,SAAJ,CAChB,sHADgB,EAEhB,EAFgB,CAAlB;AAIAC,QAAAA,MAAM,CAACG,IAAD,EAAOS,SAAP,CAAN;AACD;AACF;;AAjBI,GAAP;AAmBD,CArBD","sourcesContent":["/**\n * ソースコードに 「// ここから追加 」などのコメントが入っているかチェック\n * diffやconsoleの場合は例外\n * @param {RuleContext} context\n */\nmodule.exports = function (context, options = {}) {\n  const { Syntax, RuleError, report, getSource } = context;\n  return {\n    [Syntax.CodeBlock](node) {\n      const text = getSource(node);\n      const words = [\"追加\", \"削除\", \"変更\", \"編集\"];\n      const excludedLangs = [\"diff\", \"console\"];\n\n      const invalid =\n        words.some((word) => text.includes(word)) ||\n        excludedLangs.some((lang) => node.lang !== null && node.lang.includes(lang));\n\n      if (!invalid) {\n        const ruleError = new RuleError(\n          \"コードブロックに追加・変更する箇所のコメントアウトがありません。コメントアウトを追加してください。参考：https://techpit-market.gitbook.io/host-guide/4/4-4#4-kdoworikeru\",\n          {}\n        );\n        report(node, ruleError);\n      }\n    },\n  };\n};\n"],"file":"codeblock-modify-comment.js"}